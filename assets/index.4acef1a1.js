import{o as e,c as t,a as l,w as A,v as i,t as a,b as s,F as T,r as E,d as C,e as n,f as d,g as N}from"./vendor.f1493f07.js";import{initializeApp as o}from"https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js";import{getFirestore as r,setDoc as O,doc as c,getDocs as h,collection as R,deleteDoc as u}from"https://www.gstatic.com/firebasejs/10.0.0/firebase-firestore.js";import{getAuth as U,signInWithEmailAndPassword as M,signOut as p}from"https://www.gstatic.com/firebasejs/10.0.0/firebase-auth.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(l){const A=new URL(e,location),i=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((l,a)=>{const s=new URL(e,A);if(self[t].moduleMap[s])return l(self[t].moduleMap[s]);const T=new Blob([`import * as m from '${s}';`,`${t}.moduleMap['${s}']=m;`],{type:"text/javascript"}),E=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(T),onerror(){a(new Error(`Failed to import: ${e}`)),i(E)},onload(){l(self[t].moduleMap[s]),i(E)}});document.head.appendChild(E)})),self[t].moduleMap={}}}("/assets/");const g={props:["errorMsg"],data(){return{email:"",password:"",message:this.errorMsg}},methods:{login(){this.$emit("login",{email:this.email,password:this.password})}},watch:{errorMsg(e){this.message=e}}},S={id:"login"},_=l("h1",null,"April Bill",-1),I={class:"login-container"},L=l("div",{style:{padding:"10px 20px",background:"rgb(249, 251, 254)","border-bottom":"solid silver 1px"}}," 邮箱密码登录 ",-1),y={style:{padding:"20px"}},m={style:{color:"red"}};g.render=function(s,T,E,C,n,d){return e(),t("div",S,[_,l("div",I,[L,l("div",y,[l("p",null,[A(l("input",{placeholder:"输入邮箱",style:{width:"200px",height:"28px","padding-left":"10px",border:"solid silver 1px","border-radius":"4px"},type:"email","onUpdate:modelValue":T[1]||(T[1]=e=>n.email=e)},null,512),[[i,n.email]])]),l("p",null,[A(l("input",{placeholder:"输入密码",style:{width:"200px",height:"28px","padding-left":"10px",border:"solid silver 1px","border-radius":"4px"},type:"password","onUpdate:modelValue":T[2]||(T[2]=e=>n.password=e)},null,512),[[i,n.password]])]),l("p",null,[l("input",{style:{width:"200px",height:"34px",color:"white",background:"rgb(0, 153, 255)",border:"none","border-radius":"4px",cursor:"pointer"},type:"submit",value:"登录",onClick:T[3]||(T[3]=(...e)=>d.login&&d.login(...e))})])])]),l("p",m,a(n.message),1)])};var Y=["01","02","03","04","05","06","07","08","09",10,11,12],D=["01","02","03","04","05","06","07","08","09",10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],b=D.concat([29]),v=b.concat([30]),B=v.concat([31]);const K={name:"DatePickerUnit",props:["startYear","endYear","year","month","day"],data(){return{monthOption:Y,yearVal:this.year,monthVal:this.month,dayVal:this.day}},computed:{yearOption(){var e=(new Date).getFullYear(),t=this.startYear?this.startYear:e-10,l=this.endYear?this.endYear:e,A=[];for(let i=0;i<l-t+1;i++)A.push(t+i);return A},dayOption(){var e=this.yearVal,t=this.monthVal,l=this.dayVal,A=["01","03","05","07","08",10,12],i=["04","06","09",11];for(let a=0;a<A.length;a++)if(t==A[a])return B;for(let a=0;a<i.length;a++)if(t==i[a])return 31==l&&(this.dayVal=""),v;return e%4==0&&e%100!=0||e%400==0?(l>29&&(this.dayVal=""),b):(l>28&&(this.dayVal=""),D)}},methods:{getDateVal(){this.$emit("dateChanged",{year:this.yearVal,month:this.monthVal,day:this.dayVal})}},watch:{year(e){this.yearVal=e},month(e){this.monthVal=e},day(e){this.dayVal=e}}},w=C(" 年 "),f=C(" 月 "),G=C(" 日 ");K.render=function(i,C,n,d,N,o){return e(),t("div",null,[A(l("select",{class:"date-picker-select","onUpdate:modelValue":C[1]||(C[1]=e=>N.yearVal=e),onChange:C[2]||(C[2]=(...e)=>o.getDateVal&&o.getDateVal(...e))},[(e(!0),t(T,null,E(o.yearOption,((l,A)=>(e(),t("option",{key:A},a(l),1)))),128))],544),[[s,N.yearVal]]),w,A(l("select",{class:"date-picker-select","onUpdate:modelValue":C[3]||(C[3]=e=>N.monthVal=e),onChange:C[4]||(C[4]=(...e)=>o.getDateVal&&o.getDateVal(...e))},[(e(!0),t(T,null,E(N.monthOption,((l,A)=>(e(),t("option",{key:A},a(l),1)))),128))],544),[[s,N.monthVal]]),f,A(l("select",{class:"date-picker-select","onUpdate:modelValue":C[5]||(C[5]=e=>N.dayVal=e),onChange:C[6]||(C[6]=(...e)=>o.getDateVal&&o.getDateVal(...e))},[(e(!0),t(T,null,E(o.dayOption,((l,A)=>(e(),t("option",{key:A},a(l),1)))),128))],544),[[s,N.dayVal]]),G])};var P=[{id:"BOOK001",CURRENCY:"HKD",ACCOUNT:[{id:"ACC001",NAME:"现金",TYPE:"现金/储值卡"},{id:"ACC002",NAME:"交通卡",TYPE:"现金/储值卡"},{id:"ACC003",NAME:"信用卡A",TYPE:"信用卡"},{id:"ACC004",NAME:"储蓄卡A",TYPE:"储蓄卡"}],BILL:[{NAME:"午饭",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:140.4,CATEGORY:"饮食",DATE:"2023-07-14",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230714001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"现金",AMOUNT:35,CATEGORY:"饮食",DATE:"2023-07-14",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230714002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"交通卡",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-07-14",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230714003"},{NAME:"交通卡充值",ACC_IN:"交通卡",ACC_OUT:"信用卡A",AMOUNT:200,CATEGORY:"转账",DATE:"2023-07-14",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230714004"},{NAME:"同事餐费",ACC_IN:"现金",ACC_OUT:"",AMOUNT:100,CATEGORY:"收到钱款",DATE:"2023-07-14",NATURE:"收入",NOTES:"",REMARK:"",id:"BILL20230714005"},{NAME:"午饭",ACC_IN:"",ACC_OUT:"储蓄卡A",AMOUNT:30,CATEGORY:"饮食",DATE:"2023-07-13",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230713001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"支付宝",AMOUNT:40,CATEGORY:"饮食",DATE:"2023-07-13",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230713002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"微信",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-07-13",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230713003"},{NAME:"超市采购",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:150,CATEGORY:"购物",DATE:"2023-07-13",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230713004"},{NAME:"信用卡A还款",ACC_IN:"信用卡A",ACC_OUT:"储蓄卡A",AMOUNT:300,CATEGORY:"转账",DATE:"2023-07-13",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230713005"},{NAME:"午饭",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:140.4,CATEGORY:"饮食",DATE:"2023-07-12",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230712001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"现金",AMOUNT:35,CATEGORY:"饮食",DATE:"2023-07-12",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230712002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"交通卡",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-07-12",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230712003"},{NAME:"交通卡充值",ACC_IN:"交通卡",ACC_OUT:"信用卡A",AMOUNT:200,CATEGORY:"转账",DATE:"2023-07-12",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230712004"},{NAME:"同事餐费",ACC_IN:"现金",ACC_OUT:"",AMOUNT:100,CATEGORY:"收到钱款",DATE:"2023-07-12",NATURE:"收入",NOTES:"",REMARK:"",id:"BILL20230712005"},{NAME:"午饭",ACC_IN:"",ACC_OUT:"储蓄卡A",AMOUNT:30,CATEGORY:"饮食",DATE:"2023-07-11",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230711001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"支付宝",AMOUNT:40,CATEGORY:"饮食",DATE:"2023-07-11",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230711002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"微信",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-07-11",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230711003"},{NAME:"超市采购",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:150,CATEGORY:"购物",DATE:"2023-07-11",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230711004"},{NAME:"信用卡A还款",ACC_IN:"信用卡A",ACC_OUT:"储蓄卡A",AMOUNT:300,CATEGORY:"转账",DATE:"2023-07-11",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230711005"},{NAME:"午饭",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:140.4,CATEGORY:"饮食",DATE:"2023-07-10",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230710001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"现金",AMOUNT:35,CATEGORY:"饮食",DATE:"2023-07-10",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230710002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"交通卡",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-07-10",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230710003"},{NAME:"交通卡充值",ACC_IN:"交通卡",ACC_OUT:"信用卡A",AMOUNT:200,CATEGORY:"转账",DATE:"2023-07-10",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230710004"},{NAME:"同事餐费",ACC_IN:"现金",ACC_OUT:"",AMOUNT:100,CATEGORY:"收到钱款",DATE:"2023-07-10",NATURE:"收入",NOTES:"",REMARK:"",id:"BILL20230710005"},{NAME:"午饭",ACC_IN:"",ACC_OUT:"储蓄卡A",AMOUNT:30,CATEGORY:"饮食",DATE:"2023-07-09",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230709001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"支付宝",AMOUNT:40,CATEGORY:"饮食",DATE:"2023-07-09",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230709002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"微信",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-07-09",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230709003"},{NAME:"超市采购",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:150,CATEGORY:"购物",DATE:"2023-07-09",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230709004"},{NAME:"信用卡A还款",ACC_IN:"信用卡A",ACC_OUT:"储蓄卡A",AMOUNT:300,CATEGORY:"转账",DATE:"2023-07-09",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230709005"},{NAME:"午饭",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:140.4,CATEGORY:"饮食",DATE:"2023-07-08",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230708001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"现金",AMOUNT:35,CATEGORY:"饮食",DATE:"2023-07-08",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230708002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"交通卡",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-07-08",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230708003"},{NAME:"交通卡充值",ACC_IN:"交通卡",ACC_OUT:"信用卡A",AMOUNT:200,CATEGORY:"转账",DATE:"2023-07-08",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230708004"},{NAME:"同事餐费",ACC_IN:"现金",ACC_OUT:"",AMOUNT:100,CATEGORY:"收到钱款",DATE:"2023-07-08",NATURE:"收入",NOTES:"",REMARK:"",id:"BILL20230708005"},{NAME:"午饭",ACC_IN:"",ACC_OUT:"储蓄卡A",AMOUNT:30,CATEGORY:"饮食",DATE:"2023-07-07",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230707001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"支付宝",AMOUNT:40,CATEGORY:"饮食",DATE:"2023-07-07",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230707002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"微信",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-07-07",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230707003"},{NAME:"超市采购",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:150,CATEGORY:"购物",DATE:"2023-07-07",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230707004"},{NAME:"信用卡A还款",ACC_IN:"信用卡A",ACC_OUT:"储蓄卡A",AMOUNT:300,CATEGORY:"转账",DATE:"2023-07-07",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230707005"},{NAME:"午饭",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:140.4,CATEGORY:"饮食",DATE:"2023-07-06",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230706001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"现金",AMOUNT:35,CATEGORY:"饮食",DATE:"2023-07-06",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230706002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"交通卡",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-07-06",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230706003"},{NAME:"交通卡充值",ACC_IN:"交通卡",ACC_OUT:"信用卡A",AMOUNT:200,CATEGORY:"转账",DATE:"2023-07-06",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230706004"},{NAME:"同事餐费",ACC_IN:"现金",ACC_OUT:"",AMOUNT:100,CATEGORY:"收到钱款",DATE:"2023-07-06",NATURE:"收入",NOTES:"",REMARK:"",id:"BILL20230706005"},{NAME:"午饭",ACC_IN:"",ACC_OUT:"储蓄卡A",AMOUNT:30,CATEGORY:"饮食",DATE:"2023-07-05",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230705001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"支付宝",AMOUNT:40,CATEGORY:"饮食",DATE:"2023-07-05",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230705002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"微信",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-07-05",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230705003"},{NAME:"超市采购",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:150,CATEGORY:"购物",DATE:"2023-07-05",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230705004"},{NAME:"信用卡A还款",ACC_IN:"信用卡A",ACC_OUT:"储蓄卡A",AMOUNT:300,CATEGORY:"转账",DATE:"2023-07-05",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230705005"},{NAME:"午饭",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:140.4,CATEGORY:"饮食",DATE:"2023-07-04",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230704001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"现金",AMOUNT:35,CATEGORY:"饮食",DATE:"2023-07-04",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230704002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"交通卡",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-07-04",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230704003"},{NAME:"交通卡充值",ACC_IN:"交通卡",ACC_OUT:"信用卡A",AMOUNT:200,CATEGORY:"转账",DATE:"2023-07-04",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230704004"},{NAME:"同事餐费",ACC_IN:"现金",ACC_OUT:"",AMOUNT:100,CATEGORY:"收到钱款",DATE:"2023-07-04",NATURE:"收入",NOTES:"",REMARK:"",id:"BILL20230704005"},{NAME:"午饭",ACC_IN:"",ACC_OUT:"储蓄卡A",AMOUNT:30,CATEGORY:"饮食",DATE:"2023-07-03",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230703001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"支付宝",AMOUNT:40,CATEGORY:"饮食",DATE:"2023-07-03",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230703002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"微信",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-07-03",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230703003"},{NAME:"超市采购",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:150,CATEGORY:"购物",DATE:"2023-07-03",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230703004"},{NAME:"信用卡A还款",ACC_IN:"信用卡A",ACC_OUT:"储蓄卡A",AMOUNT:300,CATEGORY:"转账",DATE:"2023-07-03",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230703005"},{NAME:"午饭",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:140.4,CATEGORY:"饮食",DATE:"2023-07-02",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230702001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"现金",AMOUNT:35,CATEGORY:"饮食",DATE:"2023-07-02",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230702002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"交通卡",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-07-02",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230702003"},{NAME:"交通卡充值",ACC_IN:"交通卡",ACC_OUT:"信用卡A",AMOUNT:200,CATEGORY:"转账",DATE:"2023-07-02",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230702004"},{NAME:"同事餐费",ACC_IN:"现金",ACC_OUT:"",AMOUNT:100,CATEGORY:"收到钱款",DATE:"2023-07-02",NATURE:"收入",NOTES:"",REMARK:"",id:"BILL20230702005"},{NAME:"午饭",ACC_IN:"",ACC_OUT:"储蓄卡A",AMOUNT:30,CATEGORY:"饮食",DATE:"2023-07-01",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230701001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"支付宝",AMOUNT:40,CATEGORY:"饮食",DATE:"2023-07-01",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230701002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"微信",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-07-01",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230701003"},{NAME:"超市采购",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:150,CATEGORY:"购物",DATE:"2023-07-01",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230701004"},{NAME:"信用卡A还款",ACC_IN:"信用卡A",ACC_OUT:"储蓄卡A",AMOUNT:300,CATEGORY:"转账",DATE:"2023-07-01",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230701005"},{NAME:"午饭",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:140.4,CATEGORY:"饮食",DATE:"2023-06-30",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230630001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"现金",AMOUNT:35,CATEGORY:"饮食",DATE:"2023-06-30",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230630002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"交通卡",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-06-30",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230630003"},{NAME:"交通卡充值",ACC_IN:"交通卡",ACC_OUT:"信用卡A",AMOUNT:200,CATEGORY:"转账",DATE:"2023-06-30",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230630004"},{NAME:"同事餐费",ACC_IN:"现金",ACC_OUT:"",AMOUNT:100,CATEGORY:"收到钱款",DATE:"2023-06-30",NATURE:"收入",NOTES:"",REMARK:"",id:"BILL20230630005"},{NAME:"午饭",ACC_IN:"",ACC_OUT:"储蓄卡A",AMOUNT:30,CATEGORY:"饮食",DATE:"2023-06-29",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230629001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"支付宝",AMOUNT:40,CATEGORY:"饮食",DATE:"2023-06-29",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230629002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"微信",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-06-29",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230629003"},{NAME:"超市采购",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:150,CATEGORY:"购物",DATE:"2023-06-29",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230629004"},{NAME:"信用卡A还款",ACC_IN:"信用卡A",ACC_OUT:"储蓄卡A",AMOUNT:300,CATEGORY:"转账",DATE:"2023-06-29",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230629005"},{NAME:"午饭",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:140.4,CATEGORY:"饮食",DATE:"2023-06-28",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230628001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"现金",AMOUNT:35,CATEGORY:"饮食",DATE:"2023-06-28",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230628002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"交通卡",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-06-28",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230628003"},{NAME:"交通卡充值",ACC_IN:"交通卡",ACC_OUT:"信用卡A",AMOUNT:200,CATEGORY:"转账",DATE:"2023-06-28",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230628004"},{NAME:"同事餐费",ACC_IN:"现金",ACC_OUT:"",AMOUNT:100,CATEGORY:"收到钱款",DATE:"2023-06-28",NATURE:"收入",NOTES:"",REMARK:"",id:"BILL20230628005"},{NAME:"午饭",ACC_IN:"",ACC_OUT:"储蓄卡A",AMOUNT:30,CATEGORY:"饮食",DATE:"2023-06-27",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230627001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"支付宝",AMOUNT:40,CATEGORY:"饮食",DATE:"2023-06-27",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230627002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"微信",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-06-27",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230627003"},{NAME:"超市采购",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:150,CATEGORY:"购物",DATE:"2023-06-27",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230627004"},{NAME:"信用卡A还款",ACC_IN:"信用卡A",ACC_OUT:"储蓄卡A",AMOUNT:300,CATEGORY:"转账",DATE:"2023-06-27",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230627005"},{NAME:"午饭",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:140.4,CATEGORY:"饮食",DATE:"2023-06-26",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230626001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"现金",AMOUNT:35,CATEGORY:"饮食",DATE:"2023-06-26",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230626002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"交通卡",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-06-26",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230626003"},{NAME:"交通卡充值",ACC_IN:"交通卡",ACC_OUT:"信用卡A",AMOUNT:200,CATEGORY:"转账",DATE:"2023-06-26",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230626004"},{NAME:"同事餐费",ACC_IN:"现金",ACC_OUT:"",AMOUNT:100,CATEGORY:"收到钱款",DATE:"2023-06-26",NATURE:"收入",NOTES:"",REMARK:"",id:"BILL20230626005"},{NAME:"午饭",ACC_IN:"",ACC_OUT:"储蓄卡A",AMOUNT:30,CATEGORY:"饮食",DATE:"2023-06-25",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230625001"},{NAME:"早饭",ACC_IN:"",ACC_OUT:"支付宝",AMOUNT:40,CATEGORY:"饮食",DATE:"2023-06-25",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230625002"},{NAME:"晚饭",ACC_IN:"",ACC_OUT:"微信",AMOUNT:50,CATEGORY:"饮食",DATE:"2023-06-25",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230625003"},{NAME:"超市采购",ACC_IN:"",ACC_OUT:"信用卡A",AMOUNT:150,CATEGORY:"购物",DATE:"2023-06-25",NATURE:"支出",NOTES:"",REMARK:"",id:"BILL20230625004"},{NAME:"信用卡A还款",ACC_IN:"信用卡A",ACC_OUT:"储蓄卡A",AMOUNT:300,CATEGORY:"转账",DATE:"2023-06-25",NATURE:"转账",NOTES:"",REMARK:"",id:"BILL20230625005"}],CATEGORY:[{id:"CAT000",NAME:"转账",TYPE:"转账"},{id:"CAT001",NAME:"生活缴费",TYPE:"支出"},{id:"CAT002",NAME:"饮食",TYPE:"支出"},{id:"CAT003",NAME:"医疗",TYPE:"支出"},{id:"CAT004",NAME:"交通",TYPE:"支出"},{id:"CAT005",NAME:"购物",TYPE:"支出"},{id:"CAT006",NAME:"娱乐",TYPE:"支出"},{id:"CAT007",NAME:"人情",TYPE:"支出"},{id:"CAT008",NAME:"其他",TYPE:"支出"},{id:"CAT009",NAME:"工资入账",TYPE:"收入"},{id:"CAT010",NAME:"收到钱款",TYPE:"收入"}]}],x=P.ACCOUNT,k=P.CATEGORY,V=P.BILL;const F=r(o({apiKey:{}.VITE_apiKey,authDomain:{}.VITE_authDomain,projectId:{}.VITE_projectId,storageBucket:{}.VITE_storageBucket,messagingSenderId:{}.VITE_messagingSenderId,appId:{}.VITE_appId})),j=U(),W=j.currentUser;var $=!1;W&&($=!0);var z=function(e){var t=e.DATE.substring(0,4)+e.DATE.substring(5,7)+e.DATE.substring(8,10);return t=Number(t),{NAME:e.NAME,ACC_IN:e.ACC_IN,ACC_OUT:e.ACC_OUT,AMOUNT:e.AMOUNT,CATEGORY:e.CATEGORY,DATE:e.DATE,DATE_NUM:t,NATURE:e.NATURE,NOTES:e.NOTES,REMARK:e.REMARK,id:e.id}},H=function(e){return{id:e.id,NAME:e.NAME,TYPE:e.TYPE}},q=function(e){return{id:e.id,NAME:e.NAME,TYPE:e.TYPE}},J={NAME:"",ACC_IN:"",ACC_OUT:"",AMOUNT:"",CATEGORY:"",DATE:"",NATURE:"",NOTES:"",REMARK:"",id:""};function Q(e,t){return new Date(t.DATE).getTime()-new Date(e.DATE).getTime()}const X={components:{Login:g,DatePickerUnit:K},name:"April-Bill",data:()=>({perPageSelected:10,curPage:99,prevPage:0,nextPage:0,startYear:2020,endYear:2030,natureOption:["支出","收入","转账"],perPageOption:[1,3,5,7,10,20,30,40],pageNumOption:[],curPageBills:[],bills:[],accounts:[],categories:[],isShowOverlay:!1,isShowBill:!1,isShowAcc:!1,isShowCat:!1,isShowSumAcc:!1,isShowSumCat:!1,isUpdateBill:!0,billSelected:{},accEditing:[],catEditing:[],sumAcc:[],activeSumAccType:"",sumCat:[],activeSumCatType:"",expenseTotal:0,incomeTotal:0,reserveTotal:{val:0,text:"0.00"},filter:{startDate:{year:"",month:"",day:""},endDate:{year:"",month:"",day:""},perPage:10},searchKW:"",searchResultClass:[],isLoggedin:$,isGuestMode:!1,login_errMsg:""}),computed:{prevNext(){return{prevStyle:this.prevPage?"":"disabled",nextStyle:this.nextPage?"":"disabled"}},categoryOption(){var e=this.billSelected.NATURE,t=[];for(let l=0;l<this.categories.length;l++)this.categories[l].TYPE==e&&t.push(this.categories[l].NAME);return t}},methods:{loadNewBill(e){this.bills=this.getFilteredBills(V,this.filter),this.accounts=x,this.categories=k;var t=this.bills.length,l=this.perPageSelected,A=Math.ceil(t/l),i=[];for(let a=1;a<A+1;a++)i.push(a);this.pageNumOption=i,this.filter.perPage=l,this.curPage=e,this.loadBill(),this.expenseTotal=this.getExpenseTotal(this.bills),this.incomeTotal=this.getIncomeTotal(this.bills),this.reserveTotal=this.getReserveTotal(this.expenseTotal,this.incomeTotal),this.getSumAcc(),this.getSumCat(),this.clearSearch()},loadBill(){var e=this.bills.length,t=this.curPage,l=this.filter.perPage;if(0!=e){var A=Math.ceil(e/l),i=this.skipNumber(),a=this.bills.slice(i,i+l);this.curPageBills=a,this.prevPage=t-1,this.nextPage=t==A?0:t+1}else this.curPageBills=[]},loadAccCat(){},goToPrev(){0!=this.prevPage&&(this.curPage--,this.loadBill())},goToNext(){0!=this.nextPage&&(this.curPage++,this.loadBill())},showBillDetail(e){if(this.showOverlay(),this.isShowBill=!0,-1!=e){var t=this.curPageBills[e];this.isUpdateBill=!0,this.billSelected=z(t),this.billSelected.year=t.DATE.substring(0,4),this.billSelected.month=t.DATE.substring(5,7),this.billSelected.day=t.DATE.substring(8,10)}else{this.isUpdateBill=!1,this.billSelected=z(J);let e=new Date,t=e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1,l=e.getDate()<9?"0"+e.getDate():e.getDate();this.billSelected.year=e.getFullYear(),this.billSelected.month=t,this.billSelected.day=l,this.billSelected.DATE=[e.getFullYear(),t,l].join("-")}},showAccDetail(){this.showOverlay(),this.isShowAcc=!0,this.accEditing=[];var e=this.accounts;for(let t=0;t<e.length;t++)this.accEditing.push(H(e[t]))},showCatDetail(){this.showOverlay(),this.isShowCat=!0,this.catEditing=[];var e=this.categories;for(let t=1;t<e.length;t++)this.catEditing.push(q(e[t]))},showSumAcc(){this.showOverlay(),this.isShowSumAcc=!0,this.sumAcc.length&&this.setActiveSumAccType(this.sumAcc[0][0].TYPE)},showSumCat(){this.showOverlay(),this.isShowSumCat=!0,this.sumCat.length&&this.setActiveSumCatType(this.sumCat[0][0].TYPE)},showOverlay(){this.isShowOverlay=!0},hideOverlay(){this.isShowOverlay=!1,this.isShowBill=!1,this.isShowAcc=!1,this.isShowCat=!1,this.isShowSumAcc=!1,this.isShowSumCat=!1},async updateBill(){var e=!!this.billSelected.NAME&&!!this.billSelected.AMOUNT,t=!1;t="转账"==this.billSelected.NATURE?!!this.billSelected.ACC_OUT&&!!this.billSelected.ACC_IN:!!this.billSelected.ACC_OUT||!!this.billSelected.ACC_IN;var l=!!this.billSelected.CATEGORY&&!!this.billSelected.DATE,A=!!this.billSelected.NATURE;if(e&&t&&l&&A){if(confirm("确认更新吗？")){var i=z(this.billSelected);i.DATE=[this.billSelected.year,this.billSelected.month,this.billSelected.day].join("-"),await O(c(F,"BOOK/BOOK001/BILL",i.id),i),this.isShowOverlay=!1,this.isShowBill=!1;const e=await h(R(F,"BOOK/BOOK001/BILL"));V=[],e.forEach((e=>{let t=e.data();t.id=e.id,V.push(z(t))})),V.sort(Q),this.loadNewBill(this.curPage)}}else alert("请填写所有必填项")},async addBill(){var e=!!this.billSelected.NAME&&!!this.billSelected.AMOUNT,t=!1;t="转账"==this.billSelected.NATURE?!!this.billSelected.ACC_OUT&&!!this.billSelected.ACC_IN:!!this.billSelected.ACC_OUT||!!this.billSelected.ACC_IN;var l=!!this.billSelected.CATEGORY&&!!this.billSelected.DATE,A=!!this.billSelected.NATURE;if(e&&t&&l&&A){if(confirm("确认新建吗？")){var i=new Date,a=i.getFullYear(),s=i.getMonth()+1;s=s<10?"0"+s:s;var T=i.getDate();T=T<10?"0"+T:T;var E=i.getHours();E=E<10?"0"+E:E;var C=i.getMinutes();C=C<10?"0"+C:C;var n=i.getSeconds(),d="BILL"+[a,s,T,E,C,n=n<10?"0"+n:n].join(""),N=z(this.billSelected);N.DATE=[this.billSelected.year,this.billSelected.month,this.billSelected.day].join("-"),N.id=d,await O(c(F,"BOOK/BOOK001/BILL",N.id),N),this.isShowOverlay=!1,this.isShowBill=!1;const e=await h(R(F,"BOOK/BOOK001/BILL"));V=[],e.forEach((e=>{let t=e.data();t.id=e.id,V.push(z(t))})),V.sort(Q),this.loadNewBill(1)}}else alert("请填写所有必填项")},async delBill(e){if(confirm("确认删除吗？")){await u(c(F,"BOOK/BOOK001/BILL",e));const t=await h(R(F,"BOOK/BOOK001/BILL"));V=[],t.forEach((e=>{let t=e.data();t.id=e.id,V.push(z(t))})),V.sort(Q),this.loadNewBill(this.curPage)}},addAcc(e){var t=e<9?"00"+(e+1):e<99?"0"+(e+1):e+1;this.accEditing.push({id:"ACC"+t,NAME:"",TYPE:""})},async updateAcc(){if(confirm("确认更新吗？")){var e=this.accEditing;this.accounts=[];for(let t=0;t<e.length;t++){let l=t<9?"00"+(t+1):t<99?"0"+(t+1):t+1;e[t].NAME&&e[t].TYPE?(this.accounts.push({id:"ACC"+l,NAME:e[t].NAME,TYPE:e[t].TYPE}),await O(c(F,"BOOK/BOOK001/ACCOUNT",e[t].id),{id:"ACC"+l,NAME:e[t].NAME,TYPE:e[t].TYPE})):await u(c(F,"BOOK/BOOK001/ACCOUNT",e[t].id))}this.hideOverlay(),this.getSumAcc()}},addCat(e){var t=e<10?"00"+e:e<100?"0"+e:e;this.catEditing.push({id:"CAT"+t,NAME:"",TYPE:""})},async updateCat(){if(confirm("确认更新吗？")){var e=this.catEditing;this.categories=[{id:"CAT000",NAME:"转账",TYPE:"转账"}];for(let t=0;t<e.length;t++)if(e[t].NAME&&e[t].TYPE){let l=t<9?"00"+(t+1):t<99?"0"+(t+1):t+1;this.categories.push({id:"CAT"+l,NAME:e[t].NAME,TYPE:e[t].TYPE}),await O(c(F,"BOOK/BOOK001/CATEGORY",e[t].id),{id:"CAT"+l,NAME:e[t].NAME,TYPE:e[t].TYPE})}else await u(c(F,"BOOK/BOOK001/CATEGORY",e[t].id));this.hideOverlay(),this.getSumCat()}},loadCategory(){"支出"==this.billSelected.NATURE&&(this.billSelected.ACC_IN=""),"收入"==this.billSelected.NATURE&&(this.billSelected.ACC_OUT=""),"转账"==this.billSelected.NATURE&&(this.billSelected.CATEGORY="转账")},skipNumber(){var e=this.bills.length,t=this.filter.perPage,l=this.curPage,A=Math.ceil(e/t);return 1===l?0:l===A?e-(e%t==0?t:e%t):(l-1)*t},setActiveSumAccType(e){this.activeSumAccType=e},setActiveSumCatType(e){this.activeSumCatType=e},getExpenseTotal:(e,t)=>e.reduce((function(e,l){if("支出"==l.NATURE){return((100*e+100*l.AMOUNT)/100).toFixed(2)}if(t&&l.ACC_OUT==t){return((100*e+100*l.AMOUNT)/100).toFixed(2)}return(1*e).toFixed(2)}),(0).toFixed(2)),getIncomeTotal:(e,t)=>e.reduce((function(e,l){if("收入"==l.NATURE){return((100*e+100*l.AMOUNT)/100).toFixed(2)}if(t&&l.ACC_IN==t){return((100*e+100*l.AMOUNT)/100).toFixed(2)}return(1*e).toFixed(2)}),(0).toFixed(2)),getReserveTotal(e,t){let l=(100*t-100*e)/100,A=String(l>0?l.toFixed(2):(-1*l).toFixed(2));return{val:l,text:A}},getSumAcc(){var e=this,t=this.accounts,l={};for(let E=0;E<t.length;E++)l[t[E].NAME]={TYPE:t[E].TYPE,bills:[]};var A={};for(let E=0;E<t.length;E++)A[t[E].TYPE]?A[t[E].TYPE].push(t[E].NAME):A[t[E].TYPE]=[t[E].NAME];var i=Object.keys(A),a=this.bills;for(let E=0;E<a.length;E++)"支出"==a[E].NATURE?l[a[E].ACC_OUT]&&l[a[E].ACC_OUT].bills.push(a[E]):"收入"==a[E].NATURE?l[a[E].ACC_IN]&&l[a[E].ACC_IN].bills.push(a[E]):(l[a[E].ACC_OUT].bills.push(a[E]),l[a[E].ACC_IN].bills.push(a[E]));var s=function(t,l,A){let i=e.getExpenseTotal(A,t),a=e.getIncomeTotal(A,t);return{NAME:t,TYPE:l,expenseTotal:i,incomeTotal:a,reserveTotal:e.getReserveTotal(i,a)}},T=[];for(let E=0;E<i.length;E++){let e=i[E],t=[];for(let i=0;i<A[e].length;i++){let a=A[e][i],T=s(a,e,l[a].bills);t.push(T)}T.push(t)}this.sumAcc=T,this.setActiveSumAccType(T[0][0].TYPE)},getSumCat(){var e=this.categories,t={};for(let C=0;C<e.length;C++)t[e[C].NAME]={TYPE:e[C].TYPE,bills:[]};var l={"支出":[],"收入":[],"转账":[]};for(let C=0;C<e.length;C++)l[e[C].TYPE].push(e[C].NAME);var A=["支出","收入","转账"],i=this.bills;for(let C=0;C<i.length;C++)t[i[C].CATEGORY]&&t[i[C].CATEGORY].bills.push(i[C]);var a,s,T,E=[];for(let C=0;C<A.length;C++){let e=A[C],i=[];for(let A=0;A<l[e].length;A++){let E=l[e][A],C=(a=E,s=e,T=t[E].bills,{NAME:a,TYPE:s,total:T.reduce((function(e,t){return((100*e+100*t.AMOUNT)/100).toFixed(2)}),(0).toFixed(2))});i.push(C)}E.push(i)}this.sumCat=E,this.setActiveSumCatType(E[0][0].TYPE)},getReserveClass(e){let t=e<0;return{"txt-green":!t,"txt-red":t}},getTypeClass:e=>({"txt-green":"收入"==e,"txt-red":"支出"==e}),getTxtClass:e=>({green:"收入"==e,red:"支出"==e,orange:"转账"==e}),getSumAccTypeClass(e){let t=e==this.activeSumAccType;return{show:t,hide:!t}},getSumAccBtnClass(e){return{disabled:e==this.activeSumAccType}},getSumCatTypeClass(e){let t=e==this.activeSumCatType;return{show:t,hide:!t}},getSumCatBtnClass(e){return{disabled:e==this.activeSumCatType}},getFilteredBills(e,t){var l=[t.startDate.year,t.startDate.month,t.startDate.day].join("-"),A=[t.endDate.year,t.endDate.month,t.endDate.day].join("-"),i=new Date(l),a=new Date(A);return e.filter((function(e){var t=new Date(e.DATE);return t>=i&&t<=a}))},changeBillDate(e){this.billSelected.year=e.year,this.billSelected.month=e.month,this.billSelected.day=e.day,this.billSelected.DATE=[e.year,e.month,e.day].join("-")},changeFilterStartDate(e){this.filter.startDate.year=e.year,this.filter.startDate.month=e.month,this.filter.startDate.day=e.day,this.filter.startDate.DATE=[e.year,e.month,e.day].join("-")},changeFilterEndDate(e){this.filter.endDate.year=e.year,this.filter.endDate.month=e.month,this.filter.endDate.day=e.day,this.filter.endDate.DATE=[e.year,e.month,e.day].join("-")},searchWithinPage(){var e=this.searchKW,t=this.curPageBills,l=[];for(let A=0;A<t.length;A++){-1!=[t[A].NAME,t[A].CATEGORY,t[A].ACC_IN,t[A].ACC_OUT].join("").indexOf(e)?l.push(""):l.push("hide")}this.searchResultClass=l},clearSearch(){this.searchKW="";var e=this.curPageBills,t=[];for(let l=0;l<e.length;l++)t.push("");this.searchResultClass=t},async getLoginInfo(e){var t=e.email,l=e.password;M(j,t,l).then((e=>{this.isLoggedin=!0,this.login_errMsg=""})).catch((e=>{e.code;const t=e.message;this.login_errMsg=t}));const A=await h(R(F,"BOOK/BOOK001/ACCOUNT")),i=await h(R(F,"BOOK/BOOK001/CATEGORY")),a=await h(R(F,"BOOK/BOOK001/BILL"));x=[],A.forEach((e=>{let t=e.data();t.id=e.id,x.push(H(t))})),k=[],i.forEach((e=>{let t=e.data();t.id=e.id,k.push(q(t))})),V=[],a.forEach((e=>{let t=e.data();t.id=e.id,V.push(z(t))})),V.sort(Q),this.init()},logout(){p(j).then((()=>{this.isLoggedin=!1})).catch((e=>{console.log(e)}))},init(){var e=new Date,t=e.getFullYear(),l=e.getMonth()+1,A=e.getDate();A=A<10?"0"+A:A;var i=1==(l=l<10?"0"+l:l)?12:l-1,a=12==(i=i<10?"0"+i:i)?t-1:t,s=new Date(a,i-1,A),T=s.getDate(),E=(T<A?new Date(a,i-1,A-T):s).getDate();E=E<10?"0"+E:E,this.filter.startDate={year:a,month:i,day:E},this.filter.endDate={year:t,month:l,day:A},this.loadNewBill(1)}},mounted(){this.isLoggedin&&this.init()}},Z={id:"app"},ee={key:0,class:"main-container"},te={class:"loadbill-setting"},le=l("h3",null,"筛选条件",-1),Ae={class:"loadbill-set-unit"},ie=C(" 开始时间 "),ae=C(" 结束时间 "),se={class:"loadbill-set-unit"},Te=C(" 每页条数 "),Ee=l("span",null," ",-1),Ce=l("hr",null,null,-1),ne={style:{"margin-bottom":"10px"}},de={style:{position:"relative","text-align":"left"}},Ne={class:"sum-up"},oe=C(" 支出:   "),re={class:"txt-red"},Oe=l("br",null,null,-1),ce={class:"sum-up"},he=C(" 收入:   "),Re={class:"txt-green"},ue=l("br",null,null,-1),Ue={class:"sum-up"},Me=C(" 结余:   "),pe={style:{position:"absolute",right:"0px",bottom:"2px","text-align":"right"}},ge=l("br",null,null,-1),Se=l("br",null,null,-1),_e={style:{"margin-bottom":"10px"}},Ie={class:"pagenation-container"},Le={style:{position:"relative",margin:"10px auto",width:"230px"}},ye=C(" 在此页搜索 "),me={class:"bills"},Ye={class:"table table-striped"},De=l("thead",null,[l("th",null,"操作"),l("th",{style:{"min-width":"100px"}},"日期"),l("th",null,"事项"),l("th",null,"分类"),l("th",{style:{"min-width":"150px"}},"账户"),l("th",null,"金额")],-1),be={class:"table-group-divider"},ve=l("i",{class:"fa-solid fa-eye"},null,-1),Be=l("br",null,null,-1),Ke=l("i",{class:"fa-solid fa-trash-can"},null,-1),we={style:{display:"inline-block"}},fe={key:0,style:{color:"red"},class:"fa-solid fa-arrow-down"},Ge={key:1},Pe={key:2,style:{color:"green"},class:"fa-solid fa-arrow-up"},xe={key:0,style:{color:"green"},class:"fa-solid fa-arrow-up"},ke={key:1,style:{color:"red"},class:"fa-solid fa-arrow-down"},Ve={key:2,style:{color:"orange"},class:"fa-solid fa-repeat"},Fe=l("br",null,null,-1),je=C(" 日期: "),We=l("br",null,null,-1),$e=C(" 事项: "),ze=C(" 性质: "),He=l("br",null,null,-1),qe=C(" 分类: "),Je=C(" 支出账户: "),Qe=C(" 收入账户: "),Xe=C(" 金额: "),Ze=C(" 备注: "),et=C(" 详细描述: "),tt={style:{"text-align":"center"}},lt=C(" 账户: "),At=l("br",null,null,-1),it=C(" 类型: "),at={style:{"text-align":"center"}},st=l("br",null,null,-1),Tt=C(" 分类: "),Et=l("br",null,null,-1),Ct=C(" 性质: "),nt=l("option",null,"收入",-1),dt=l("option",null,"支出",-1),Nt={style:{"text-align":"center"}},ot=l("br",null,null,-1),rt={key:0},Ot=l("hr",null,null,-1),ct={class:"sum-up"},ht=C(" 支出:   "),Rt={class:"txt-red"},ut=l("br",null,null,-1),Ut={class:"sum-up"},Mt=C(" 收入:   "),pt={class:"txt-green"},gt=l("br",null,null,-1),St={class:"sum-up"},_t=C(" 结余:   "),It={style:{"text-align":"center"}},Lt={key:0},yt=l("hr",null,null,-1),mt={class:"sum-up"},Yt=C(" 金额:   "),Dt={style:{"text-align":"center"}};X.render=function(N,o,r,O,c,h){const R=n("DatePickerUnit"),u=n("Login");return e(),t("div",Z,[c.isLoggedin?(e(),t("div",ee,[l("div",te,[le,l("div",Ae,[ie,l(R,{onDateChanged:h.changeFilterStartDate,startYear:c.startYear,endYear:c.endYear,year:c.filter.startDate.year,month:c.filter.startDate.month,day:c.filter.startDate.day},null,8,["onDateChanged","startYear","endYear","year","month","day"]),ae,l(R,{onDateChanged:h.changeFilterEndDate,startYear:c.startYear,endYear:c.endYear,year:c.filter.endDate.year,month:c.filter.endDate.month,day:c.filter.endDate.day},null,8,["onDateChanged","startYear","endYear","year","month","day"])]),l("div",se,[Te,A(l("select",{"onUpdate:modelValue":o[1]||(o[1]=e=>c.perPageSelected=e)},[(e(!0),t(T,null,E(c.perPageOption,((l,A)=>(e(),t("option",{key:A},a(l),1)))),128))],512),[[s,c.perPageSelected,void 0,{number:!0}]]),Ee,l("button",{onClick:o[2]||(o[2]=e=>h.loadNewBill(1))},"加载账单")]),l("button",{onClick:o[3]||(o[3]=(...e)=>h.logout&&h.logout(...e)),style:{position:"absolute",top:"10px",right:"10px"}},"登出")]),Ce,l("div",ne,[l("button",{onClick:o[4]||(o[4]=(...e)=>h.showSumAcc&&h.showSumAcc(...e))},"查看账户汇总"),l("button",{onClick:o[5]||(o[5]=(...e)=>h.showSumCat&&h.showSumCat(...e))},"查看分类汇总")]),l("div",de,[l("span",Ne,[oe,l("span",re,a(c.expenseTotal),1)]),Oe,l("span",ce,[he,l("span",Re,a(c.incomeTotal),1)]),ue,l("span",Ue,[Me,l("span",{class:h.getReserveClass(c.reserveTotal.val)},a(c.reserveTotal.text),3)]),l("div",pe,[l("button",{onClick:o[6]||(o[6]=(...e)=>h.showAccDetail&&h.showAccDetail(...e))},"编辑账户"),ge,l("button",{onClick:o[7]||(o[7]=(...e)=>h.showCatDetail&&h.showCatDetail(...e))},"编辑分类"),Se,l("button",{onClick:o[8]||(o[8]=e=>h.showBillDetail(-1))},"新增账单")])]),l("div",_e," 共"+a(c.pageNumOption[c.pageNumOption.length-1])+"页, 共"+a(c.bills.length)+"条记录 ",1),l("div",Ie,[l("div",null,[l("span",{class:["page-item",h.prevNext.prevStyle],onClick:o[9]||(o[9]=(...e)=>h.goToPrev&&h.goToPrev(...e))}," « ",2),A(l("select",{style:{"margin-top":"-1","min-width":"50px",height:"24px","text-align":"center"},onChange:o[10]||(o[10]=(...e)=>h.loadBill&&h.loadBill(...e)),"onUpdate:modelValue":o[11]||(o[11]=e=>c.curPage=e)},[(e(!0),t(T,null,E(c.pageNumOption,((l,A)=>(e(),t("option",{key:A},a(l),1)))),128))],544),[[s,c.curPage,void 0,{number:!0}]]),l("span",{class:["page-item",h.prevNext.nextStyle],onClick:o[12]||(o[12]=(...e)=>h.goToNext&&h.goToNext(...e))}," » ",2)])]),l("div",Le,[ye,A(l("input",{placeholder:"输入关键字...",style:{width:"134px",height:"34px","font-size":"16px","border-radius":"6px"},onInput:o[13]||(o[13]=(...e)=>h.searchWithinPage&&h.searchWithinPage(...e)),"onUpdate:modelValue":o[14]||(o[14]=e=>c.searchKW=e),type:"text"},null,544),[[i,c.searchKW]]),l("div",{class:["close-btn",{hide:!c.searchKW}],onClick:o[15]||(o[15]=(...e)=>h.clearSearch&&h.clearSearch(...e)),style:{top:"-7px","font-size":"30px",right:"10px"}}," × ",2)]),l("div",me,[l("table",Ye,[De,l("tbody",be,[(e(!0),t(T,null,E(c.curPageBills,((A,i)=>(e(),t("tr",{class:c.searchResultClass[i],key:A.id},[l("td",null,[l("span",{class:"act-btn",title:"查看详情",onClick:e=>h.showBillDetail(i)},[ve],8,["onClick"]),Be,l("span",{class:"act-btn",title:"删除",onClick:e=>h.delBill(A.id)},[Ke],8,["onClick"])]),l("td",null,[l("span",we,a(A.DATE),1)]),l("td",null,a(A.NAME),1),l("td",null,a(A.CATEGORY),1),l("td",null,[A.ACC_OUT?(e(),t("i",fe)):d("",!0),C(" "+a(A.ACC_OUT)+" ",1),A.ACC_OUT?(e(),t("br",Ge)):d("",!0),A.ACC_IN?(e(),t("i",Pe)):d("",!0),C(" "+a(A.ACC_IN),1)]),l("td",null,["收入"==A.NATURE?(e(),t("i",xe)):d("",!0),"支出"==A.NATURE?(e(),t("i",ke)):d("",!0),"转账"==A.NATURE?(e(),t("i",Ve)):d("",!0),Fe,C(" "+a(A.AMOUNT),1)])],2)))),128))])])]),l("div",{class:["overlay",{show:c.isShowOverlay}],onClick:o[16]||(o[16]=(...e)=>h.hideOverlay&&h.hideOverlay(...e))},null,2),l("div",{class:["view-container",{show:c.isShowBill}]},[l("p",null,[je,We,l(R,{onDateChanged:h.changeBillDate,startYear:c.startYear,endYear:c.endYear,year:c.billSelected.year,month:c.billSelected.month,day:c.billSelected.day},null,8,["onDateChanged","startYear","endYear","year","month","day"])]),l("p",null,[$e,A(l("input",{"onUpdate:modelValue":o[17]||(o[17]=e=>c.billSelected.NAME=e),type:"text"},null,512),[[i,c.billSelected.NAME]])]),l("p",null,[ze,A(l("select",{"onUpdate:modelValue":o[18]||(o[18]=e=>c.billSelected.NATURE=e),onChange:o[19]||(o[19]=(...e)=>h.loadCategory&&h.loadCategory(...e))},[(e(!0),t(T,null,E(c.natureOption,((l,A)=>(e(),t("option",{key:A},a(l),1)))),128))],544),[[s,c.billSelected.NATURE]]),He,l("span",{class:{hide:"转账"==c.billSelected.NATURE||""==c.billSelected.NATURE}},[qe,A(l("select",{"onUpdate:modelValue":o[20]||(o[20]=e=>c.billSelected.CATEGORY=e)},[(e(!0),t(T,null,E(h.categoryOption,((l,A)=>(e(),t("option",{key:A},a(l),1)))),128))],512),[[s,c.billSelected.CATEGORY]])],2)]),l("p",null,[l("span",{class:{hide:"收入"==c.billSelected.NATURE}},[Je,A(l("select",{"onUpdate:modelValue":o[21]||(o[21]=e=>c.billSelected.ACC_OUT=e)},[(e(!0),t(T,null,E(c.accounts,((l,A)=>(e(),t("option",{key:A},a(l.NAME),1)))),128))],512),[[s,c.billSelected.ACC_OUT]])],2),l("br",{class:{hide:"收入"==c.billSelected.NATURE}},null,2),l("span",{class:{hide:"支出"==c.billSelected.NATURE}},[Qe,A(l("select",{"onUpdate:modelValue":o[22]||(o[22]=e=>c.billSelected.ACC_IN=e),title:c.billSelected.ACC_OUT},[(e(!0),t(T,null,E(c.accounts,((l,A)=>(e(),t("option",{key:A},a(l.NAME),1)))),128))],8,["title"]),[[s,c.billSelected.ACC_IN]])],2)]),l("p",null,[Xe,A(l("input",{"onUpdate:modelValue":o[23]||(o[23]=e=>c.billSelected.AMOUNT=e),type:"number"},null,512),[[i,c.billSelected.AMOUNT]])]),l("p",null,[Ze,A(l("input",{placeholder:"选填","onUpdate:modelValue":o[24]||(o[24]=e=>c.billSelected.REMARK=e),type:"text"},null,512),[[i,c.billSelected.REMARK]])]),l("p",null,[et,A(l("textarea",{placeholder:"选填",style:{width:"100%",height:"150px"},"onUpdate:modelValue":o[25]||(o[25]=e=>c.billSelected.NOTES=e)},null,512),[[i,c.billSelected.NOTES]])]),l("div",tt,[c.isUpdateBill?(e(),t("button",{key:0,onClick:o[26]||(o[26]=(...e)=>h.updateBill&&h.updateBill(...e))},"更新")):d("",!0),l("button",{onClick:o[27]||(o[27]=(...e)=>h.addBill&&h.addBill(...e))},"另存"),l("button",{onClick:o[28]||(o[28]=(...e)=>h.hideOverlay&&h.hideOverlay(...e))},"取消")]),l("div",{class:"close-btn",onClick:o[29]||(o[29]=(...e)=>h.hideOverlay&&h.hideOverlay(...e))},"×")],2),l("div",{class:["view-container",{show:c.isShowAcc}]},[(e(!0),t(T,null,E(c.accEditing,((a,s)=>(e(),t("div",{class:"view-acc",key:s},[lt,A(l("input",{"onUpdate:modelValue":e=>a.NAME=e},null,8,["onUpdate:modelValue"]),[[i,a.NAME]]),At,it,A(l("input",{"onUpdate:modelValue":e=>a.TYPE=e},null,8,["onUpdate:modelValue"]),[[i,a.TYPE]])])))),128)),l("div",at,[l("button",{onClick:o[30]||(o[30]=e=>h.addAcc(c.accEditing.length))},"新增账户"),st,l("button",{onClick:o[31]||(o[31]=(...e)=>h.updateAcc&&h.updateAcc(...e))},"更新"),l("button",{onClick:o[32]||(o[32]=(...e)=>h.hideOverlay&&h.hideOverlay(...e))},"取消")]),l("div",{class:"close-btn",onClick:o[33]||(o[33]=(...e)=>h.hideOverlay&&h.hideOverlay(...e))},"×")],2),l("div",{class:["view-container",{show:c.isShowCat}]},[(e(!0),t(T,null,E(c.catEditing,((a,T)=>(e(),t("div",{class:"view-acc",key:T},[Tt,A(l("input",{"onUpdate:modelValue":e=>a.NAME=e},null,8,["onUpdate:modelValue"]),[[i,a.NAME]]),Et,Ct,A(l("select",{"onUpdate:modelValue":e=>a.TYPE=e,class:h.getTypeClass(a.TYPE)},[nt,dt],10,["onUpdate:modelValue"]),[[s,a.TYPE]])])))),128)),l("div",Nt,[l("button",{onClick:o[34]||(o[34]=e=>h.addCat(c.catEditing.length))},"新增分类"),ot,l("button",{onClick:o[35]||(o[35]=(...e)=>h.updateCat&&h.updateCat(...e))},"更新"),l("button",{onClick:o[36]||(o[36]=(...e)=>h.hideOverlay&&h.hideOverlay(...e))},"取消")]),l("div",{class:"close-btn",onClick:o[37]||(o[37]=(...e)=>h.hideOverlay&&h.hideOverlay(...e))},"×")],2),l("div",{class:["view-container",{show:c.isShowSumAcc}]},[c.sumAcc.length?(e(),t("div",rt,[(e(!0),t(T,null,E(c.sumAcc,((l,A)=>(e(),t("button",{key:"opt"+A,class:h.getSumAccBtnClass(l[0].TYPE),onClick:e=>h.setActiveSumAccType(l[0].TYPE)},a(l[0].TYPE),11,["onClick"])))),128))])):d("",!0),Ot,(e(!0),t(T,null,E(c.sumAcc,((A,i)=>(e(),t("div",{key:i,class:h.getSumAccTypeClass(A[0].TYPE)},[(e(!0),t(T,null,E(A,((A,s)=>(e(),t("div",{class:"view-acc",key:i+"-"+s},[l("h3",null,a(A.NAME),1),l("span",ct,[ht,l("span",Rt,a(A.expenseTotal),1)]),ut,l("span",Ut,[Mt,l("span",pt,a(A.incomeTotal),1)]),gt,l("span",St,[_t,l("span",{class:h.getReserveClass(A.reserveTotal.val)},a(A.reserveTotal.text),3)])])))),128))],2)))),128)),l("div",It,[l("button",{onClick:o[38]||(o[38]=(...e)=>h.hideOverlay&&h.hideOverlay(...e))},"关闭")]),l("div",{class:"close-btn",onClick:o[39]||(o[39]=(...e)=>h.hideOverlay&&h.hideOverlay(...e))},"×")],2),l("div",{class:["view-container",{show:c.isShowSumCat}]},[c.sumCat.length?(e(),t("div",Lt,[(e(!0),t(T,null,E(c.sumCat,((l,A)=>(e(),t("button",{key:"opt"+A,class:h.getSumCatBtnClass(l[0].TYPE),onClick:e=>h.setActiveSumCatType(l[0].TYPE)},a(l[0].TYPE),11,["onClick"])))),128))])):d("",!0),yt,(e(!0),t(T,null,E(c.sumCat,((A,i)=>(e(),t("div",{key:i},[(e(!0),t(T,null,E(A,((s,T)=>(e(),t("div",{class:["view-acc",h.getSumCatTypeClass(A[0].TYPE)],key:i+"-"+T},[l("h3",null,a(s.NAME),1),l("span",mt,[Yt,l("span",{class:h.getTxtClass(s.TYPE)},a(s.total),3)])],2)))),128))])))),128)),l("div",Dt,[l("button",{onClick:o[40]||(o[40]=(...e)=>h.hideOverlay&&h.hideOverlay(...e))},"关闭")]),l("div",{class:"close-btn",onClick:o[41]||(o[41]=(...e)=>h.hideOverlay&&h.hideOverlay(...e))},"×")],2)])):d("",!0),c.isLoggedin?d("",!0):(e(),t(u,{key:1,errorMsg:c.login_errMsg,onLogin:h.getLoginInfo},null,8,["errorMsg","onLogin"]))])},N(X).mount("#app");
